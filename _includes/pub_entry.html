<div class="pub-entry">
  {% assign pub = include.pub %}
  {% assign pubnum = include.pubnum %}
  <span class="pubnum">[{{ pubnum }}]</span>
  <span class="title">{{ pub.title }}</span><br>
  <span class="authors">{{ pub.authors | join: ", " }}</span><br>
  
  <span class="info">
    {% if pub.type == "journal" %}
      <i>{{ pub.journal }}</i>
      {% if pub.volume %}
        , {{ pub.volume }}
        {% if pub.issue %}({{ pub.issue }}){% endif %}
      {% endif %}
      {% if pub.pages %}:{{ pub.pages }}{% endif %}
      {% if pub.year %}, {{ pub.year }}{% endif %}
    {% elsif pub.type == "preprint" %}
      preprint,
      {% if pub.preprint-server %}{{ pub.preprint-server }}{% endif %}
      {% if pub.preprint-identifier %}:{{ pub.preprint-identifier }}{% endif %}
      {% if pub.year %}, {{ pub.year }}{% endif %}
    {% elsif pub.type == "thesis" %}
      {% if pub.note %}{{ pub.note }}{% endif %}
      {% if pub.year %}, {{ pub.year }}{% endif %}
    {% endif %}
    .
  </span><br>

  <!-- Example toggle buttons (optional) -->
  <div class="button-group">
    {% if pub.preprint-url %}
      <a class="link-button" href="{{ pub.preprint-url }}" target="_blank">preprint</a>
    {% endif %}
    {% if pub.abstract %}
      <button class="toggle-button" onclick="toggleBox('abs_{{ pub.pubnum }}')">abstract</button>
    {% endif %}
    {% if pub.bibtex %}
      <button class="toggle-button" onclick="toggleBox('bib_{{ pub.pubnum }}')">bibtex</button>
    {% endif %}
  </div>

  {% if pub.abstract %}
  <div id="abs_{{ pub.pubnum }}" class="abstract-box noshow">{{ pub.abstract }}</div>
  {% endif %}

  {% if pub.bibtex %}
  <div id="bib_{{ pub.pubnum }}" class="bibtex noshow"><pre>{{ pub.bibtex }}</pre></div>
  {% endif %}
</div>
